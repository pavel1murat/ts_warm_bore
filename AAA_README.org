# ts_warm_bore/AAA_README.org

  *src* : TsudStoppedParticleReactionGun.cc: to generate photons with T0 ~ 1000 ns
          see file:./fcl/flatphoton.fcl

  *subdirectories:* : see file:AAA_PROJECT.txt

  *pbars* : see file:/mu2e/app/users/murat/tsud_bore_prof/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.org

  fcl, geom - for tests, templates...

  tmp_code: stores tarballs
  tmp_fcl : stores FCL files produced with generate_fcl
* weighting:

  s0 (sum of all weights) = N(generated)*sigma/(2*Pmax)

  for antiproton x-section by Striganov: use Plab-costh 2D histogram (murat/plot/pbar_xsec_norm.C)

  sigma / (2*Pmax) = s0/N(generated) = 37.95

* *------------------------------------------------------------------------------*
* directory: file:./
* *------------------------------------------------------------------------------*
* *COMMENTS*                                                              
  
  *why Dave calls stage3 mothers bin ?*

  *to store stopped mu+*: add to DS*.fcl:

  physics.producers.stoppedMuonFinder.particleTypes     : [ 13 , -13 ]   # both mu- and mu+
  physics.producers.outOfTargetMuonFinder.particleTypes : [ 13 , -13 ]   # both mu- and mu+
  
* *------------------------------------------------------------------------------*
* *file firmats* 
* *------------------------------------------------------------------------------*
** *stage2 mubeam*            
murat@mu2ebuild01:/mu2e/app/users/murat/tsud_bore_prof>mu2e -c Print/fcl/dumpDataProducts.fcl -s results/2019-09-27-12-31.TS_711_2000.mu2egpvm06.23149/sim.owner.TS-mubeam.version.sequencer.art 
29-Sep-2019 10:40:06 CDT  Initiating request to open input file "results/2019-09-27-12-31.TS_711_2000.mu2egpvm06.23149/sim.owner.TS-mubeam.version.sequencer.art"
29-Sep-2019 10:40:07 CDT  Opened input file "results/2019-09-27-12-31.TS_711_2000.mu2egpvm06.23149/sim.owner.TS-mubeam.version.sequencer.art"
Begin processing the 1st record. run: 1000 subRun: 751 event: 17796 at 29-Sep-2019 10:40:08 CDT
Found 6 data products in this Event
Data products: 
Friendly Class Name    Module Label    Instance Name         Process Name     Product ID
mu2e::SimParticlemv  muonBeamFilter                                    TS  1000137853
 mu2e::GenParticles        generate                   antiprotonsg4s1VD91  1510753068
 mu2e::StepPointMCs  muonBeamFilter         DSVacuum                   TS  1804935316
 mu2e::StepPointMCs  muonBeamFilter  virtualdetector                   TS  2681977965
     mu2e::StatusG4           g4run                   antiprotonsg4s1VD91  3795004908
     mu2e::StatusG4           g4run                                    TS  4205842999

Found 2 data products in this SubRun
Data products: 
                     Friendly Class Name        Module Label  Instance Name         Process Name     Product ID
uintmu2e::PhysicalVolumeInfomvstd::pairs  compressPVmuonBeam                                  TS  1912427908
                     mu2e::GenEventCount          genCounter                 antiprotonsg4s1VD91  2666321646

Found 0 data products in this Run
29-Sep-2019 10:40:08 CDT  Closed input file "results/2019-09-27-12-31.TS_711_2000.mu2egpvm06.23149/sim.owner.TS-mubeam.version.sequencer.art"
Art has completed and will exit with status 0.
** *stage2 truncated*         
murat@mu2ebuild01:/mu2e/app/users/murat/tsud_bore_prof>mu2e -c Print/fcl/dumpDataProducts.fcl -s results/2019-09-27-12-31.TS_711_2000.mu2egpvm06.23149/sim.owner.TS-truncated.version.sequencer.art
29-Sep-2019 10:43:40 CDT  Initiating request to open input file "results/2019-09-27-12-31.TS_711_2000.mu2egpvm06.23149/sim.owner.TS-truncated.version.sequencer.art"
29-Sep-2019 10:43:41 CDT  Opened input file "results/2019-09-27-12-31.TS_711_2000.mu2egpvm06.23149/sim.owner.TS-truncated.version.sequencer.art"
Begin processing the 1st record. run: 1000 subRun: 751 event: 19917 at 29-Sep-2019 10:43:42 CDT
Found 7 data products in this Event
Data products: 
Friendly Class Name  Module Label    Instance Name         Process Name     Product ID
 mu2e::StepPointMCs         g4run  virtualdetector                   TS   475983712
 mu2e::StepPointMCs         g4run              CRV                   TS   860891107
mu2e::SimParticlemv         g4run                                    TS  1328224906
 mu2e::GenParticles      generate                   antiprotonsg4s1VD91  1510753068
 mu2e::StepPointMCs         g4run         DSVacuum                   TS  3465821392
     mu2e::StatusG4         g4run                   antiprotonsg4s1VD91  3795004908
     mu2e::StatusG4         g4run                                    TS  4205842999

Found 2 data products in this SubRun
Data products: 
                     Friendly Class Name    Module Label  Instance Name         Process Name     Product ID
uintmu2e::PhysicalVolumeInfomvstd::pairs  compressPVFull                                  TS    59512762
                     mu2e::GenEventCount      genCounter                 antiprotonsg4s1VD91  2666321646

Found 0 data products in this Run
29-Sep-2019 10:43:42 CDT  Closed input file "results/2019-09-27-12-31.TS_711_2000.mu2egpvm06.23149/sim.owner.TS-truncated.version.sequencer.art"
Art has completed and will exit with status 0.
* <2019-06-23 Sun> last tarball in tmp_code was called:  ts_warm_bore.code.711_1025.tbz, delete it to save space
* generating a tarball: gridexport -E ../grid_export -A ts_warm_bore/AAA_GRIDEXPORT_EXCLUDE.txt
* 711_0000: default geometry
* 711_0001: "worst case" : misaligned bore geometry with perfect TS3 ends positioning
* *------------------------------------------------------------------------------*
* *WORK LOG*                                **   
** <2019-11-25 Mon> check_grid _output copy_log_files list_pnfs_files

   ts_warm_bore/scripts/check_grid_output ts_warm_bore 711_2064 pbar:vd91:01 ts1:sim . > /mu2e/app/users/murat/tsud_bore_prof/ts_warm_bore/catalogs/711_2064/ts1/ts_warm_bore.711_2064.pbar_vd91_01.ts1_sim.check_grid_output.log
   ts_warm_bore/scripts/check_grid_output ts_warm_bore 711_2064 pbar:vd91:02 ts1:sim . > /mu2e/app/users/murat/tsud_bore_prof/ts_warm_bore/catalogs/711_2064/ts1/ts_warm_bore.711_2064.pbar_vd91_02.ts1_sim.check_grid_output.log
   ts_warm_bore/scripts/check_grid_output ts_warm_bore 711_2064 pbar:vd91:03 ts1:sim . > /mu2e/app/users/murat/tsud_bore_prof/ts_warm_bore/catalogs/711_2064/ts1/ts_warm_bore.711_2064.pbar_vd91_03.ts1_sim.check_grid_output.log
   ts_warm_bore/scripts/check_grid_output ts_warm_bore 711_2064 pbar:vd91:04 ts1:sim . > /mu2e/app/users/murat/tsud_bore_prof/ts_warm_bore/catalogs/711_2064/ts1/ts_warm_bore.711_2064.pbar_vd91_04.ts1_sim.check_grid_output.log
   ts_warm_bore/scripts/check_grid_output ts_warm_bore 711_2064 pbar:vd91:05 ts1:sim . > /mu2e/app/users/murat/tsud_bore_prof/ts_warm_bore/catalogs/711_2064/ts1/ts_warm_bore.711_2064.pbar_vd91_05.ts1_sim.check_grid_output.log

   ts_warm_bore/scripts/copy_log_files ts_warm_bore 711_2064 pbar:vd91:01 ts1:sim .
   ts_warm_bore/scripts/copy_log_files ts_warm_bore 711_2064 pbar:vd91:02 ts1:sim .
   ts_warm_bore/scripts/copy_log_files ts_warm_bore 711_2064 pbar:vd91:03 ts1:sim .
   ts_warm_bore/scripts/copy_log_files ts_warm_bore 711_2064 pbar:vd91:04 ts1:sim .
   ts_warm_bore/scripts/copy_log_files ts_warm_bore 711_2064 pbar:vd91:05 ts1:sim .

   ts_warm_bore/scripts/list_pnfs_files ts_warm_bore 711_2064 pbar:vd91:01 ts1:sim .
   ts_warm_bore/scripts/list_pnfs_files ts_warm_bore 711_2064 pbar:vd91:02 ts1:sim .
   ts_warm_bore/scripts/list_pnfs_files ts_warm_bore 711_2064 pbar:vd91:03 ts1:sim .
   ts_warm_bore/scripts/list_pnfs_files ts_warm_bore 711_2064 pbar:vd91:04 ts1:sim .
   ts_warm_bore/scripts/list_pnfs_files ts_warm_bore 711_2064 pbar:vd91:05 ts1:sim .

** <2019-11-24 Sun> gen_fcl samweb prestage-dataset submit_grid_job   
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2064 pbar:vd91:01 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art ts1:sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2064 pbar:vd91:02 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art ts1:sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2064 pbar:vd91:03 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art ts1:sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2064 pbar:vd91:04 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art ts1:sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2064 pbar:vd91:05 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art ts1:sim .

  murat@mu2egpvm06:/mu2e/app/users/murat/mdc2018>setup mu2egrid
  murat@mu2egpvm06:/mu2e/app/users/murat/mdc2018>which samweb
  /cvmfs/fermilab.opensciencegrid.org/products/common/prd/sam_web_client/v3_0/NULL/bin/samweb
  murat@mu2egpvm06:/mu2e/app/users/murat/mdc2018>samweb prestage-dataset --parallel=10 --defname=sim.mu2e.antiprotons_cs1VD91.170829.art

  ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_2064 pbar:vd91:01 ts1:sim 20h ifdh .

** <2019-11-23 Sat> submit_mu2e_job catalog_stntuples stnana                   

  murat/scripts/submit_mu2e_job -c ./ts_warm_bore/fcl/flatphoton.fcl -n 1000000

  Stntuple/scripts/catalog_stntuples --bluearc -b ts_warm_bore -d 714_0011_s4_simreco -p \.stn \
                                     -D /mu2e/data/users/murat/datasets/ts_warm_bore/714_0011/read_reco_stn

  stnana("ts_warm_bore","714_0011_s4_simreco","","","track_comp(11,11)/save=ts_warm_bore.714_0011_s4_simreco.track_comp.hist")

** <2019-11-18 Mon> gen_fcl submit_grid_job check_grid_output list_pnfs_files  

  dsid=711_2063; ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid ts3:mubeam . s3:sim .
  ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_2063 ts3:mubeam s3:sim 10h xrootd .
  dsid=711_2063; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts3:mubeam s3:sim >| ts_warm_bore/catalogs/$dsid/s3/ts_warm_bore.$dsid.ts3_mubeam_s3_sim.check_grid_output.log
  ts_warm_bore/scripts/list_pnfs_files ts_warm_bore $dsid ts3:mubeam s3:sim .

  *go to mdc2018 area (smth is wrong with the fcl files in tsud_bore_prof*

  dsid=711_2063; ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid s3:tgtstops . s3:stn .
  dsid=711_2063; ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid s3:ootstops . s3:stn .

** <2019-10-19 Sat> submit_mu2e_job check_grid_output copy_log_files list_pnfs_files countnt count gen_fcl submit_grid_job   


  murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/711_2061.ts2_mubeam.ts2_stn/cnf.murat.ts_warm_bore.711_2061_ts2_mubeam_ts2_stn.001000_00031842.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/711_2061/ts2/mubeam_stn &
  murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/711_2061.ts2_mubeam.ts2_stn/cnf.murat.ts_warm_bore.711_2061_ts2_mubeam_ts2_stn.001000_00041925.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/711_2061/ts2/mubeam_stn &
  murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/711_2061.ts2_mubeam.ts2_stn/cnf.murat.ts_warm_bore.711_2061_ts2_mubeam_ts2_stn.001000_00052245.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/711_2061/ts2/mubeam_stn &
  dsid=711_1061; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen 500:20000:00 s1:mubeam >| ts_warm_bore/catalogs/$dsid/ts2/ts_warm_bore.$dsid.gen_500_20000_00_s1_sim.check_grid_output.log
  dsid=711_1061; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen 500:20000:00 s1:mubeam >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_00_s1_sim.check_grid_output.log
  dsid=711_1061; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen 500_20000:00 s1:mubeam >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_00_s1_sim.check_grid_output.log
  dsid=711_1061; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen_500_20000:00 s1:mubeam >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_00_s1_sim.check_grid_output.log
  dsid=711_1061; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen_500_20000:00 s1:sim >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_00_s1_sim.check_grid_output.log
  dsid=711_1060; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen_500_20000:00 s1:sim >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_00_s1_sim.check_grid_output.log
  dsid=711_1060; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen:500_20000:00 s1:sim >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_00_s1_sim.check_grid_output.log
  dsid=711_1060; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen:500_20000:01 s1:sim >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_00_s1_sim.check_grid_output.log
  dsid=711_1060; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen:500_20000:01 s1:sim >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_01_s1_sim.check_grid_output.log
  dsid=711_1060; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen:500_20000:00 s1:sim >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_00_s1_sim.check_grid_output.log
  dsid=711_1060; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen:500_20000:02 s1:sim >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_02_s1_sim.check_grid_output.log
  dsid=711_1060; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen:500_20000:03 s1:sim >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_03_s1_sim.check_grid_output.log
  dsid=711_1060; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid gen:500_20000:04 s1:sim >| ts_warm_bore/catalogs/$dsid/s1/ts_warm_bore.$dsid.gen_500_20000_04_s1_sim.check_grid_output.log
  dsid=711_1060; ts_warm_bore/scripts/copy_log_files ts_warm_bore $dsid gen:500_20000:00 s1:sim 
  dsid=711_1060; ts_warm_bore/scripts/copy_log_files ts_warm_bore $dsid gen:500_20000:00 s1:sim 
  dsid=711_1060; ts_warm_bore/scripts/copy_log_files ts_warm_bore $dsid gen:500_20000:01 s1:sim 
  dsid=711_1060; ts_warm_bore/scripts/copy_log_files ts_warm_bore $dsid gen:500_20000:02 s1:sim 
  dsid=711_1060; ts_warm_bore/scripts/copy_log_files ts_warm_bore $dsid gen:500_20000:03 s1:sim 
  dsid=711_1060; ts_warm_bore/scripts/copy_log_files ts_warm_bore $dsid gen:500_20000:04 s1:sim 
  dsid=711_1060; ts_warm_bore/scripts/list_pnfs_files ts_warm_bore $dsid gen:500_20000:04 s1:sim 
  dsid=711_1060; ts_warm_bore/scripts/list_pnfs_files ts_warm_bore $dsid gen:500_20000:03 s1:sim 
  dsid=711_1060; ts_warm_bore/scripts/list_pnfs_files ts_warm_bore $dsid gen:500_20000:02 s1:sim 
  dsid=711_1060; ts_warm_bore/scripts/list_pnfs_files ts_warm_bore $dsid gen:500_20000:01 s1:sim 
  dsid=711_1060; ts_warm_bore/scripts/list_pnfs_files ts_warm_bore $dsid gen:500_20000:00 s1:sim 
  countnt /mu2e/data/users/murat/datasets/ts_warm_bore/711_1060/s1/log 00 mubeam
  count /mu2e/data/users/murat/datasets/ts_warm_bore/711_1060/s1/log 00 mubeam
  count /mu2e/data/users/murat/datasets/ts_warm_bore/711_1060/s1/log 00_s1_sim mubeam
  count /mu2e/data/users/murat/datasets/ts_warm_bore/711_1060/s1/log 01_s1_sim mubeam
  count /mu2e/data/users/murat/datasets/ts_warm_bore/711_1060/s1/log 02_s1_sim mubeam
  count /mu2e/data/users/murat/datasets/ts_warm_bore/711_1060/s1/log 03_s1_sim mubeam
  count /mu2e/data/users/murat/datasets/ts_warm_bore/711_1060/s1/log 04_s1_sim mubeam
  count /mu2e/data/users/murat/datasets/ts_warm_bore/711_1060/s1/log . mubeam
  dsid=711_1061; ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid s1:mubeam . s2:sim . 
  ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_1061 s1:mubeam  s2:sim 10h ifdh .
 

 *Run,Event:   1000,260847    Rs:     766 : bit:7: pbar P > 100 in the end, p =    106.961 t=    214.736*

 
 *Run,Event:   1000,28787     Rs:    1926 : bit:7: pbar P > 100 in the end, p =    101.944 t=    270.114*
 *Run,Event:   1000,226318    Rs:    1964 : bit:7: pbar P > 100 in the end, p =    130.180 t=    171.912
 *Run,Event:   1000,69897     Rs:     865 : bit:7: pbar P > 100 in the end, p =    102.753 t=    206.173
 *Run,Event:   1000,15880     Rs:     868 : bit:7: pbar P > 100 in the end, p =    101.119 t=    220.547
 *Run,Event:   1000,311473    Rs:    1028 : bit:7: pbar P > 100 in the end, p =    111.660 t=    197.377
 *Run,Event:   1000,144923    Rs:    1079 : bit:7: pbar P > 100 in the end, p =    102.064 t=    291.964
 *Run,Event:   1000,95188     Rs:    1179 : bit:7: pbar P > 100 in the end, p =    112.424 t=    192.413
 *Run,Event:   1000,236974    Rs:    1391 : bit:7: pbar P > 100 in the end, p =    114.637 t=    176.188
 *Run,Event:   1000,339240    Rs:    1481 : bit:7: pbar P > 100 in the end, p =    109.081 t=    206.363
 *Run,Event:   1000,30749     Rs:    1558 : bit:7: pbar P > 100 in the end, p =    116.628 t=    173.884
 *Run,Event:   1000,217138    Rs:    1622 : bit:7: pbar P > 100 in the end, p =    100.513 t=    204.396
 *Run,Event:   1000,290681    Rs:    1638 : bit:7: pbar P > 100 in the end, p =    117.900 t=    169.151
 *Run,Event:   1000,329463    Rs:    2328 : bit:7: pbar P > 100 in the end, p =    106.330 t=    190.580
 *Run,Event:   1000,403649    Rs:    2333 : bit:7: pbar P > 100 in the end, p =    128.211 t=    181.786
 *Run,Event:   1000,29869     Rs:    2347 : bit:7: pbar P > 100 in the end, p =    117.971 t=    230.558
 *Run,Event:   1000,144522    Rs:    2360 : bit:7: pbar P > 100 in the end, p =    123.738 t=    168.551
 *Run,Event:   1000,423092    Rs:    2360 : bit:7: pbar P > 100 in the end, p =    101.186 t=    223.878
 *Run,Event:   1000,4473      Rs:    2494 : bit:7: pbar P > 100 in the end, p =    116.012 t=    168.772
 *Run,Event:   1000,99377     Rs:    2558 : bit:7: pbar P > 100 in the end, p =    100.324 t=    224.556
 *Run,Event:   1000,226276    Rs:    2650 : bit:7: pbar P > 100 in the end, p =    106.339 t=    175.583
 *Run,Event:   1000,297681    Rs:    2968 : bit:7: pbar P > 100 in the end, p =    104.918 t=    202.644
 *Run,Event:   1000,464197    Rs:    2994 : bit:7: pbar P > 100 in the end, p =    101.622 t=    208.827
 *Run,Event:   1000,107763    Rs:    3131 : bit:7: pbar P > 100 in the end, p =    113.256 t=    180.908
 *Run,Event:   1000,131697    Rs:    3242 : bit:7: pbar P > 100 in the end, p =    116.623 t=    203.069

** <2019-10-16 Wed> gen_fcl     gridexport      

  508  setup mu2efiletools
  509  setup mu2etools
  510  setup mu2egrid
  511  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2060 pbar:vd91:01 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1_sim .
  512  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2060 pbar:vd91:01 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1:sim .
  513  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2060 pbar:vd91:02 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1:sim .
  514  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2060 pbar:vd91:03 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1:sim .
  515  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2060 pbar:vd91:04 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1:sim .
  516  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2060 pbar:vd91:05 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1:sim .

  gridexport -E $PWD/grid_export -A ts_warm_bore/AAA_GRIDEXPORT_EXCLUDE.txt

** <2019-10-12 Sat> gen_fcl gridexport list_pnfs_files      

  *stage one muons, trace down to VirtualDetector_Coll1In, write out only muons, generate 10 fcl tarballs*

  dsid=711_1050 ; 
  rm -rf /mu2e/app/users/murat/tsud_bore_prof/ts_warm_bore/tmp_fcl/$dsid.gen_1000_50000.s1_sim ;  
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid gen:1000_50000 .  s1_sim . 
  cd ts_warm_bore/tmp_fcl/711_1050.gen_1000_50000.s1_sim/
  for i in `seq 0 9` ; 
  do echo $i ; \
  tar -cjf ../ts_warm_bore.711_1050.gen_1000_50000_0$i.s1_sim.fcl.tbz cnf.murat.ts_warm_bore.711_1050_gen_1000_50000_s1_sim.000001_00000${i}??.fcl; \
  done

  dsid=711_1050 ; 
  rm -rf /mu2e/app/users/murat/tsud_bore_prof/ts_warm_bore/tmp_fcl/$dsid.gen_500_20000.s1_sim ;  
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid gen:500_20000 .  s1_sim .
  cd ts_warm_bore/tmp_fcl/711_1050.gen_500_20000.s1_sim/
  for i in `seq 0 4` ; do echo $i ; \
  tar -cjf ../ts_warm_bore.711_1050.gen_500_20000_0$i.s1_sim.fcl.tbz cnf.murat.ts_warm_bore.711_1050_gen_500_20000_s1_sim.000001_00000${i}??.fcl; \
  done

  *remake the code tarball and copy it to /pnfs*
  gridexport -E $PWD/grid_export -A ts_warm_bore/AAA_GRIDEXPORT_EXCLUDE.txt 
  mv /mu2e/app/users/murat/tsud_bore_prof/grid_export/tmp.zfEw90bQQI/Code.tar.bz ts_warm_bore/tmp_code/ts_warm_bore.code.711_1050.tbz
  rm /pnfs/mu2e/resilient/users/murat/ts_warm_bore.code.tbz ; \
  cp ts_warm_bore/tmp_code/ts_warm_bore.code.711_1050.tbz /pnfs/mu2e/resilient/users/murat/ts_warm_bore.code.tbz

  dsid=711_2030
  ts_warm_bore/scripts/list_pnfs_files ts_warm_bore $dsid pbar vd91_01 ts1_sim .
  dsid=711_1050
  ts_warm_bore/scripts/list_pnfs_files ts_warm_bore 711_1050 gen 500_20000_00 s1_sim mubeam .

** <2019-10-11 Fri> check_grid_output gen_fcl     
  *replacing the code tarbal*
  rm -f /pnfs/mu2e/resilient/users/murat/ts_warm_bore.code.tbz ; cp ts_warm_bore/tmp_code/ts_warm_bore.code.711_2020.tbz /pnfs/mu2e/resilient/users/murat/ts_warm_bore.code.tbz

  dsid=711_2020
  ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts1 mubeam ts2_sim >| ts_warm_bore/catalogs/$dsid/ts2/ts_warm_bore.$dsid.ts1_mubeam_ts2_sim.check_grid_output.log
  

  *submitting 711_2030 jobs*
  
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2030 pbar:vd91:01 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2030 pbar:vd91:02 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2030 pbar:vd91:03 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2030 pbar:vd91:04 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2030 pbar:vd91:05 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1_sim .

  gridexport -E $PWD/grid_export -A ts_warm_bore/AAA_GRIDEXPORT_EXCLUDE.txt
  mv grid_export/tmp.kA8RtojgIg/Code.tar.bz ts_warm_bore/tmp_code/ts_warm_bore.code.711_2030.tbz
  rm -f /pnfs/mu2e/resilient/users/murat/ts_warm_bore.code.tbz ; cp ts_warm_bore/tmp_code/ts_warm_bore.code.711_2030.tbz /pnfs/mu2e/resilient/users/murat/ts_warm_bore.code.tbz

  ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_2030 pbar:vd91:01 ts1_sim 24h ifdh .

** <2019-10-10 Thu> check_grid_output     

  dsid=711_2012; 
  ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts1 mubeam ts2_sim >| ts_warm_bore/catalogs/$dsid/ts2/ts_warm_bore.$dsid.ts1_mubeam_ts2_sim.check_grid_output.log
  
** <2019-10-09 Wed> gen_fcl submit_mu2e_job debugging   

  *ntuple S0 PBAR dataset - partially*

  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2000 s0:pbar_vd91:01 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art s0_stn .
  murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/711_2000.s0_pbar_vd91_01.s0_stn/cnf.murat.ts_warm_bore.711_2000_s0_pbar_vd91_s0_stn.001000_00000751.fcl \
                                -o /mu2e/data/users/murat/datasets/ts_warm_bore/711_2000/s0/pbar_vd91_stn &

  *events with P(pbar) > 100 MeV/c reaching TS32In*

   Opened new file: /mu2e/data/users/murat/datasets/ts_warm_bore/711_2000/ts1/mubeam_stn/nts.murat.ts_warm_bore.711_2000_ts1_mubeam_ts1_stn.001000_00000751.stn
>>> WARNING: no particle with PDF code=1000020040 cached from ROOT particle DB

 *** Run,Event:   1000,260847    Rs:     766 : bit:7: pbar P > 100 in the end, p =    106.961 t=    214.736  *interacted in TS1 coll*
root [5] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   91       0  -2212 antiproton              56       1     -1      -1      49   3946.313   -125.543  -4144.290  0.00000  0.00000    0.021   32.184   43.835   53.533  202.088
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3946.313   -125.543  -4144.290  0.00000  0.00000    0.021   32.184   43.835   53.533  202.088
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3946.371   -125.472  -4144.020  0.00000  0.00000    0.021   32.188   44.360   47.583  197.695
   *1      -1  -2212 antiproton              56  100001  -2212       1      49   3965.836    -85.224  -4004.000  0.00000  0.00000    0.021   34.455    9.733   62.708  198.212*
   *2      -1  -2212 antiproton              56  100001  -2212       1      49   3783.106    -68.212  -3004.020  0.00000  0.00000    0.020   53.039   -6.053   -8.261  106.469*
   98      -1  -2212 antiproton              56  100001  -2212       1      49   2974.691     28.820   -929.323  0.00000  0.00000    0.020  120.902  -67.722    9.843   82.204
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    156.025   -117.761  0.00000  0.00000    0.020  191.107 -106.766   -6.233   -1.654
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    171.838   -105.892  0.00000  0.00000    0.020  214.735 -106.723   -0.497   -7.106

 *** Run,Event:   1000,28787     Rs:    1926 : bit:7: pbar P > 100 in the end, p =    101.944 t=    270.114  *cools down in the 1st PBAR window*
root [10] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   91       0  -2212 antiproton              56       1     -1      -1      49   3952.877    -51.368  -4144.290  0.00000  0.00000    0.023   57.893   54.976  -30.977  112.289
  *91      -1  -2212 antiproton              56  100001  -2212       1      49   3952.877    -51.368  -4144.290  0.00000  0.00000    0.023   57.893   54.976  -30.977  112.289*
  *92      -1  -2212 antiproton              56  100001  -2212       1      49   3952.948    -51.412  -4144.020  0.00000  0.00000    0.020   57.900   -7.183   -0.388  101.690*
    1      -1  -2212 antiproton              56  100001  -2212       1      49   3944.903    -57.527  -4004.000  0.00000  0.00000    0.020   62.237   -3.159   -7.636  101.609
    2      -1  -2212 antiproton              56  100001  -2212       1      49   3943.627    -69.351  -3004.020  0.00000  0.00000    0.020   93.220    2.529   -6.798  101.686
   98      -1  -2212 antiproton              56  100001  -2212       1      49   3090.963     55.638   -813.051  0.00000  0.00000    0.020  168.220  -72.115   12.725   70.923
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    152.955     59.117  0.00000  0.00000    0.020  245.295 -101.210    9.089    8.155
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    155.366     60.427  0.00000  0.00000    0.020  270.113 -101.354    1.717   10.820
r
 *** Run,Event:   1000,226318    Rs:    1964 : bit:7: pbar P > 100 in the end, p =    130.180 t=    171.912  *interacted in TS1 coll*
root [7] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   91       0  -2212 antiproton              56       1     -1      -1      49   3959.255     20.098  -4144.290  0.00000  0.00000    0.020   17.863  -61.801  -10.532  371.993
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3959.255     20.098  -4144.290  0.00000  0.00000    0.020   17.863  -61.801  -10.532  371.993
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3959.210     20.090  -4144.020  0.00000  0.00000    0.020   17.866  -60.966   -9.847  370.540
   *1      -1  -2212 antiproton              56  100001  -2212       1      49   3937.190     12.746  -4004.000  0.00000  0.00000    0.020   19.140  -54.709  -28.471  370.554*
   *2      -1  -2212 antiproton              56  100001  -2212       1      49   3901.795   -117.067  -3004.020  0.00000  0.00000    0.021   28.949  -36.130    4.292  124.992*
   98      -1  -2212 antiproton              56  100001  -2212       1      49   3038.963     36.655   -865.051  0.00000  0.00000    0.021   89.353 -115.241    0.910   60.544
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000     86.489    -44.503  0.00000  0.00000    0.021  151.653 -124.766  -28.483   23.855
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    172.530    -16.334  0.00000  0.00000    0.021  171.912 -125.552  -12.949  -31.872

 *** Run,Event:   1000,69897     Rs:     865 : bit:7: pbar P > 100 in the end, p =    102.753 t=    206.173  *interacted in TS1 coll*
root [12] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   91       0  -2212 antiproton              56       1     -1      -1      49   3932.960      0.944  -4144.290  0.00000  0.00000    0.020   19.020  -47.843  -12.407  343.235
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3932.960      0.944  -4144.290  0.00000  0.00000    0.020   19.020  -47.843  -12.407  343.235
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3932.922      0.934  -4144.020  0.00000  0.00000    0.020   19.023  -47.376  -10.957  341.940
   *1      -1  -2212 antiproton              56  100001  -2212       1      49   3914.637     -6.765  -4004.000  0.00000  0.00000    0.020   20.389  -41.161  -26.113  341.923*
   *2      -1  -2212 antiproton              56  100001  -2212       1      49   3922.604   -121.920  -3004.020  0.00000  0.00000    0.020   30.621   11.956   -7.165  101.803*
   98      -1  -2212 antiproton              56  100001  -2212       1      49   3076.406     30.334   -827.608  0.00000  0.00000    0.020  104.968  -79.006   13.169   64.364
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    119.816     50.048  0.00000  0.00000    0.020  181.373 -101.201   17.082    4.964
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    111.618     50.790  0.00000  0.00000    0.020  206.172 -101.388    9.168   13.945

 *** Run,Event:   1000,15880     Rs:     868 : bit:7: pbar P > 100 in the end, p =    101.119 t=    220.547  *interacted in TS1 coll*
root [14] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   91       0  -2212 antiproton              56       1     -1      -1      49   3792.054     27.163  -4144.290  0.00000  0.00000    0.021   24.852  -47.345  -39.341  264.955
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3792.054     27.163  -4144.290  0.00000  0.00000    0.021   24.852  -47.345  -39.341  264.955
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3792.006     27.123  -4144.020  0.00000  0.00000    0.021   24.856  -48.571  -39.108  262.016
   *1      -1  -2212 antiproton              56  100001  -2212       1      49   3771.420      1.896  -4004.000  0.00000  0.00000    0.021   26.594  -27.773  -53.672  262.467*
   *2      -1  -2212 antiproton              56  100001  -2212       1      49   3871.559    -62.464  -3004.020  0.00000  0.00000    0.021   43.209   -9.621   24.857   97.543*
   98      -1  -2212 antiproton              56  100001  -2212       1      49   2982.495     11.058   -921.519  0.00000  0.00000    0.020  117.719  -56.522  -11.814   83.011
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    130.731    -95.057  0.00000  0.00000    0.020  195.012  -98.740  -19.918    8.880
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    157.092    -91.474  0.00000  0.00000    0.020  220.547  -99.007  -19.953   -4.963

 *** Run,Event:   1000,311473    Rs:    1028 : bit:7: pbar P > 100 in the end, p =    111.660 t=    197.377
 *** Run,Event:   1000,144923    Rs:    1079 : bit:7: pbar P > 100 in the end, p =    102.064 t=    291.964
 *** Run,Event:   1000,95188     Rs:    1179 : bit:7: pbar P > 100 in the end, p =    112.424 t=    192.413
 *** Run,Event:   1000,236974    Rs:    1391 : bit:7: pbar P > 100 in the end, p =    114.637 t=    176.188
 *** Run,Event:   1000,339240    Rs:    1481 : bit:7: pbar P > 100 in the end, p =    109.081 t=    206.363
 *** Run,Event:   1000,30749     Rs:    1558 : bit:7: pbar P > 100 in the end, p =    116.628 t=    173.884
 *** Run,Event:   1000,217138    Rs:    1622 : bit:7: pbar P > 100 in the end, p =    100.513 t=    204.396
 *** Run,Event:   1000,290681    Rs:    1638 : bit:7: pbar P > 100 in the end, p =    117.900 t=    169.151
 *** Run,Event:   1000,329463    Rs:    2328 : bit:7: pbar P > 100 in the end, p =    106.330 t=    190.580
 *** Run,Event:   1000,403649    Rs:    2333 : bit:7: pbar P > 100 in the end, p =    128.211 t=    181.786
 *** Run,Event:   1000,29869     Rs:    2347 : bit:7: pbar P > 100 in the end, p =    117.971 t=    230.558
 *** Run,Event:   1000,144522    Rs:    2360 : bit:7: pbar P > 100 in the end, p =    123.738 t=    168.551
 *** Run,Event:   1000,423092    Rs:    2360 : bit:7: pbar P > 100 in the end, p =    101.186 t=    223.878
 *** Run,Event:   1000,4473      Rs:    2494 : bit:7: pbar P > 100 in the end, p =    116.012 t=    168.772
 *** Run,Event:   1000,99377     Rs:    2558 : bit:7: pbar P > 100 in the end, p =    100.324 t=    224.556
 *** Run,Event:   1000,226276    Rs:    2650 : bit:7: pbar P > 100 in the end, p =    106.339 t=    175.583
 *** Run,Event:   1000,297681    Rs:    2968 : bit:7: pbar P > 100 in the end, p =    104.918 t=    202.644
 *** Run,Event:   1000,464197    Rs:    2994 : bit:7: pbar P > 100 in the end, p =    101.622 t=    208.827
 *** Run,Event:   1000,107763    Rs:    3131 : bit:7: pbar P > 100 in the end, p =    113.256 t=    180.908
 *** Run,Event:   1000,131697    Rs:    3242 : bit:7: pbar P > 100 in the end, p =    116.623 t=    203.069


  <2019-10-08 Tue>

  dsid=711_2001; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts3 mubeam s3_sim >| ts_warm_bore/catalogs/$dsid/s3/ts_warm_bore.$dsid.ts3_mubeam_s3_sim.check_grid_output.log
  dsid=711_2002; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts3 mubeam s3_sim >| ts_warm_bore/catalogs/$dsid/s3/ts_warm_bore.$dsid.ts3_mubeam_s3_sim.check_grid_output.log
  dsid=711_2003; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts3 mubeam s3_sim >| ts_warm_bore/catalogs/$dsid/s3/ts_warm_bore.$dsid.ts3_mubeam_s3_sim.check_grid_output.log
  dsid=711_2005; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts3 mubeam s3_sim >| ts_warm_bore/catalogs/$dsid/s3/ts_warm_bore.$dsid.ts3_mubeam_s3_sim.check_grid_output.log
  dsid=711_2007; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts3 mubeam s3_sim >| ts_warm_bore/catalogs/$dsid/s3/ts_warm_bore.$dsid.ts3_mubeam_s3_sim.check_grid_output.log
  dsid=711_2010; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts3 mubeam s3_sim >| ts_warm_bore/catalogs/$dsid/s3/ts_warm_bore.$dsid.ts3_mubeam_s3_sim.check_grid_output.log

  dsid=711_2001; ts_warm_bore/scripts/copy_log_files ts_warm_bore $dsid ts3 mubeam s3_sim .
  dsid=711_2001; ts_warm_bore/scripts/list_pnfs_files ts_warm_bore $dsid ts3 mubeam s3_sim .

  dsid=711_2000 ; rm -rf /mu2e/app/users/murat/tsud_bore_prof/ts_warm_bore/tmp_fcl/$dsid.ts3_mubeam.ts3_stn ;  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid ts3:mubeam .  ts3_stn . ;


  *pbars with coordinates outside 25cm are the ones which had interacted and have xe set to 0*

  *** Run,Event:   1000,306028    Rs:   41682 : bit:4: xe, ye, ze, te =   3878.966    194.097     3.564    302.492
  *** Run,Event:   1000,109408    Rs:   60819 : bit:4: xe, ye, ze, te =   3743.530    190.001    69.508    355.476


  *check if pbars reaching the stopping target are the same in both cases - by 50%, low statistics*

  Opened new file: /mu2e/data/users/murat/datasets/ts_warm_bore/711_2000/s3/tgtstops_stn/nts._USER_._DATASET_.s3_tgtstops_stn.001002_00010600.stn
 *** Run,Event:   1000,30749     Rs:    1558 : bit:5: pbar ID=    400001
 *** Run,Event:   1000,108700    Rs:    4046 : bit:5: pbar ID=    400001
 *** Run,Event:   1000,201053    Rs:   18809 : bit:5: pbar ID=    400001
 *** Run,Event:   1000,422050    Rs:   18957 : bit:5: pbar ID=    400001

 Opened new file: /mu2e/data/users/murat/datasets/ts_warm_bore/711_2000/s3/tgtstops_stn/nts.murat.ts_warm_bore.711_2000_s3_tgtstops_s3_stn.001000_00000751.stn
 *** Run,Event:   1000,30749     Rs:    1558 : bit:5: pbar ID=    400001
 *** Run,Event:   1000,108700    Rs:    4046 : bit:5: pbar ID=    400001
 *** Run,Event:   1000,47280     Rs:   36331 : bit:5: pbar ID=    400001
 *** Run,Event:   1000,169474    Rs:   38508 : bit:5: pbar ID=    400001

 *pbars getting through TS3 wedge* 

 *** Run,Event:   1000,30749     Rs:    1558 : bit:6: pbar in the end, p =     43.527 t=    176.236 *interaction in TS1 coll*

root [7] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   91       0  -2212 antiproton              56       1     -1      -1      49   3817.881   -117.394  -4144.290  0.00000  0.00000    0.020   11.531   43.685  -33.726  712.169
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3817.881   -117.394  -4144.290  0.00000  0.00000    0.020   11.531   43.685  -33.726  712.169
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3817.897   -117.406  -4144.020  0.00000  0.00000    0.020   11.533   44.765  -33.505  711.712
   *1      -1  -2212 antiproton              56  100001  -2212       1      49   3826.979   -123.115  -4004.000  0.00000  0.00000    0.020   12.307   47.298  -24.565  711.913*
   *2      -1  -2212 antiproton              56  100001  -2212       1      49   3871.778   -120.381  -3004.020  0.00000  0.00000    0.020   18.577  -25.177   -0.883  113.874*
   98      -1  -2212 antiproton              56  100001  -2212       1      49   3001.545    -19.057   -902.469  0.00000  0.00000    0.020   83.905  -83.130  -19.638   79.409
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    105.552     13.113  0.00000  0.00000    0.021  151.543 -112.339   31.313   -1.170
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020     66.890     -6.444  0.00000  0.00000    0.021  173.883 -112.765   10.023   28.027

 *** Run,Event:   1000,82835     Rs:    3137 : bit:6: pbar in the end, p =     23.892 t=    330.961 *slow from the very beginning*
root [9] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz   Ptot
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  *91       0  -2212 antiproton              56       1     -1      -1      49   3905.597   -123.916  -4144.290  0.00000  0.00000    0.022   62.318   55.085   -5.356  109.889* *123.0*
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3905.597   -123.916  -4144.290  0.00000  0.00000    0.022   62.318   55.085   -5.356  109.889
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3905.733   -123.929  -4144.020  0.00000  0.00000    0.023   62.326   43.393   -5.805   79.098
    1      -1  -2212 antiproton              56  100001  -2212       1      49   3962.955    -85.849  -4004.000  0.00000  0.00000    0.023   67.853   10.649   40.500   80.122
    2      -1  -2212 antiproton              56  100001  -2212       1      49   3856.017    -51.686  -3004.020  0.00000  0.00000    0.022  106.908  -18.828  -35.655   80.916
   98      -1  -2212 antiproton              56  100001  -2212       1      49   3008.103     13.837   -895.912  0.00000  0.00000    0.022  198.866  -51.883  -35.529   64.954
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    157.449     50.283  0.00000  0.00000    0.023  294.824  -79.754   35.485  -23.523
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    188.024     28.144  0.00000  0.00000    0.022  326.120  -81.048   11.947  -38.231


 *** Run,Event:   1000,50126     Rs:    3781 : bit:6: pbar in the end, p =     33.931 t=    298.784 *slow from the very beginning*

root [12] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz  
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  *91       0  -2212 antiproton              56       1     -1      -1      49   3916.171     -8.094  -4144.290  0.00000  0.00000    0.020   53.082   -2.061   10.034  118.148* *118.6*
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3916.171     -8.094  -4144.290  0.00000  0.00000    0.020   53.082   -2.061   10.034  118.148
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3916.167     -8.073  -4144.020  0.00000  0.00000    0.020   53.089   -1.722    1.806   87.829
    1      -1  -2212 antiproton              56  100001  -2212       1      49   3912.449     -7.609  -4004.000  0.00000  0.00000    0.020   58.101   -2.242   -1.302   87.826
    2      -1  -2212 antiproton              56  100001  -2212       1      49   3909.184    -12.486  -3004.020  0.00000  0.00000    0.020   93.892    0.925   -0.449   87.859
   98      -1  -2212 antiproton              56  100001  -2212       1      49   3048.107     91.260   -855.907  0.00000  0.00000    0.020  179.149  -62.316    1.812   61.916
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    180.336      8.040  0.00000  0.00000    0.020  266.937  -87.771    3.480    2.088
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    189.155     17.248  0.00000  0.00000    0.020  295.570  -87.794    3.115    1.624

 *** Run,Event:   1000,108700    Rs:    4046 : bit:6: pbar in the end, p =     67.505 t=    152.061 *interaction in TS1 coll*
root [14] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   91      -1  -2212 antiproton              14      45  -3122      43      49   3833.944    -93.672  -4144.290  0.00000  0.00000    0.020   10.786   22.567  -51.300  710.090
   91      -1  -2212 antiproton              56  100001  -2212      45      49   3833.944    -93.672  -4144.290  0.00000  0.00000    0.020   10.786   22.567  -51.300  710.090
   92      -1  -2212 antiproton              56  100001  -2212      45      49   3833.953    -93.691  -4144.020  0.00000  0.00000    0.020   10.788   22.934  -52.063  709.687
   *1      -1  -2212 antiproton              56  100001  -2212      45      49   3839.112   -103.432  -4004.000  0.00000  0.00000    0.020   11.563   29.149  -46.578  709.840*
   *2      -1  -2212 antiproton              56  100001  -2212      45      49   3894.757   -130.821  -3004.020  0.00000  0.00000    0.020   17.751   -8.603   13.776  133.268*
   98      -1  -2212 antiproton              56  100001  -2212      45      49   3045.891     14.734   -858.123  0.00000  0.00000    0.020   73.704  -95.841   23.487   91.034
    3      -1  -2212 antiproton              56  100001  -2212      45      49    825.000    170.139    -12.926  0.00000  0.00000    0.020  131.430 -133.050   13.165  -12.195
    4      -1  -2212 antiproton              56  100001  -2212      45      49     25.020    135.307    -11.652  0.00000  0.00000    0.020  150.419 -132.980    7.419   16.897


 *** Run,Event:   1000,265975    Rs:    4752 : bit:6: pbar in the end, p =     90.946 t=    162.087 *interaction in TS1 coll*

root [17] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   91       0  -2212 antiproton              56       1     -1      -1      49   3856.370    -85.873  -4144.290  0.00000  0.00000    0.020    6.756  -80.986 -182.055 3636.485
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3856.370    -85.873  -4144.290  0.00000  0.00000    0.020    6.756  -80.986 -182.055 3636.485
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3856.364    -85.887  -4144.020  0.00000  0.00000    0.020    6.757  -80.753 -183.107 3636.342
   *1      -1  -2212 antiproton              56  100001  -2212       1      49   3853.337    -92.967  -4004.000  0.00000  0.00000    0.020    7.240  -76.541 -184.618 3636.356*
   *2      -1  -2212 antiproton              86  100006  -2212  100001      49   3842.863   -152.803  -3004.020  0.00000  0.00000    0.021   10.856   22.588  -87.815  330.491*
   98      -1  -2212 antiproton              86  100006  -2212  100001      49   3043.877    -79.636   -860.137  0.00000  0.00000    0.021   67.896  -75.794  -32.760   86.908
    3      -1  -2212 antiproton              86  100006  -2212  100001      49    825.000     92.276    101.192  0.00000  0.00000    0.021  137.989 -111.710   39.396  -18.431
    4      -1  -2212 antiproton              86  100006  -2212  100001      49     25.020     23.132    101.813  0.00000  0.00000    0.021  160.484 -111.997   28.849   31.547

 *** Run,Event:   1000,291337    Rs:    6650 : bit:6: pbar in the end, p =     54.979 t=    302.373 *slow from the very beginning*

root [19] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  *91       0  -2212 antiproton              56       1     -1      -1      49   3833.375    -50.473  -4144.290  0.00000  0.00000    0.022   59.262  -13.909  -53.874  110.816* *124.0*
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3833.375    -50.473  -4144.290  0.00000  0.00000    0.022   59.262  -13.909  -53.874  110.816
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3833.342    -50.602  -4144.020  0.00000  0.00000    0.022   59.270  -10.949  -34.840   86.052
    1      -1  -2212 antiproton              56  100001  -2212       1      49   3851.470   -101.491  -4004.000  0.00000  0.00000    0.022   64.369   29.248  -18.992   86.733
    2      -1  -2212 antiproton              56  100001  -2212       1      49   3914.173    -62.224  -3004.020  0.00000  0.00000    0.021  100.318   -3.904   32.407   87.598
   98      -1  -2212 antiproton              56  100001  -2212       1      49   3044.686      7.940   -859.328  0.00000  0.00000    0.022  183.994  -46.621   27.336   76.276
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    174.740     -8.683  0.00000  0.00000    0.021  271.136  -87.100   20.841  -26.797
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    186.398     -5.402  0.00000  0.00000    0.021  299.942  -87.642   16.436  -28.062

 *** Run,Event:   1000,201741    Rs:    7161 : bit:6: pbar in the end, p =     29.041 t=    329.265 *slow from the very beginning*

root [21] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  *91       0  -2212 antiproton              56       1     -1      -1      49   3903.846   -120.518  -4144.290  0.00000  0.00000    0.022   62.121   52.510   -6.715  109.975* *122.0*
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3903.846   -120.518  -4144.290  0.00000  0.00000    0.022   62.121   52.510   -6.715  109.975
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3903.975   -120.535  -4144.020  0.00000  0.00000    0.023   62.129   43.424   -6.831   79.282
    1      -1  -2212 antiproton              56  100001  -2212       1      49   3962.307    -83.779  -4004.000  0.00000  0.00000    0.023   67.644   11.808   40.397   80.290
    2      -1  -2212 antiproton              56  100001  -2212       1      49   3856.600    -45.243  -3004.020  0.00000  0.00000    0.022  106.605  -20.694  -34.819   81.100
   98      -1  -2212 antiproton              56  100001  -2212       1      49   3006.820     23.226   -897.194  0.00000  0.00000    0.022  198.350  -54.633  -36.393   62.519
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    154.684     54.568  0.00000  0.00000    0.023  294.041  -79.784   38.899  -18.421
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    189.425     36.817  0.00000  0.00000    0.022  325.279  -81.139   18.086  -36.155

 *** Run,Event:   1000,240846    Rs:    7452 : bit:6: pbar in the end, p =     40.265 t=    328.555

root [23] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  *91       0  -2212 antiproton              56       1     -1      -1      49   3841.655   -118.984  -4144.290  0.00000  0.00000    0.023   61.873   37.512  -50.405  107.525* *124.5*
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3841.655   -118.984  -4144.290  0.00000  0.00000    0.023   61.873   37.512  -50.405  107.525
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3841.751   -119.109  -4144.020  0.00000  0.00000    0.024   61.882   33.081  -38.488   77.847
    1      -1  -2212 antiproton              56  100001  -2212       1      49   3921.589   -130.121  -4004.000  0.00000  0.00000    0.023   67.483   40.077   27.071   79.352
    2      -1  -2212 antiproton              56  100001  -2212       1      49   3851.723    -24.631  -3004.020  0.00000  0.00000    0.023  106.749  -42.671  -19.704   80.167
   98      -1  -2212 antiproton              56  100001  -2212       1      49   2985.179     45.730   -918.836  0.00000  0.00000    0.023  198.256  -69.678  -39.809   46.861
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    132.855     42.785  0.00000  0.00000    0.024  293.902  -78.927   48.554   -6.989
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    180.698     29.508  0.00000  0.00000    0.023  325.326  -80.648   30.706  -34.480

 *** Run,Event:   1000,387979    Rs:    8357 : bit:6: pbar in the end, p =     21.644 t=    333.011

root [25] m_spmc->fVDetBlock->Print()  *slow from the very beginning*
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  *91       0  -2212 antiproton              56       1     -1      -1      49   3832.070    -87.968  -4144.290  0.00000  0.00000    0.023   60.970   12.676  -61.666  107.275* *124.4*
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3832.070    -87.968  -4144.290  0.00000  0.00000    0.023   60.970   12.676  -61.666  107.275
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3832.105    -88.123  -4144.020  0.00000  0.00000    0.024   60.978   12.160  -46.174   76.768
    1      -1  -2212 antiproton              56  100001  -2212       1      49   3896.426   -130.571  -4004.000  0.00000  0.00000    0.023   66.665   45.024    6.957   78.087
    2      -1  -2212 antiproton              56  100001  -2212       1      49   3872.009    -16.352  -3004.020  0.00000  0.00000    0.023  106.464  -43.711   -5.590   78.939
   98      -1  -2212 antiproton              56  100001  -2212       1      49   2988.606     49.007   -915.408  0.00000  0.00000    0.022  199.268  -68.688  -36.559   46.028
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    148.295     33.369  0.00000  0.00000    0.023  296.177  -78.115   41.810  -17.978
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    189.125      6.163  0.00000  0.00000    0.023  328.026  -79.645   15.140  -40.009

 *** Run,Event:   1000,62566     Rs:   10710 : bit:6: pbar in the end, p =    195.711 t=     83.877 *interaction in TS1 coll and in TS2*
root [27] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   91       0  -2212 antiproton              56       1     -1      -1      49   4022.835    -32.015  -4144.290  0.00000  0.00000    0.020    7.046  185.619    2.856 3034.640
   91      -1  -2212 antiproton              56  100001  -2212       1      49   4022.835    -32.015  -4144.290  0.00000  0.00000    0.020    7.046  185.619    2.856 3034.640
   92      -1  -2212 antiproton              56  100001  -2212       1      49   4022.851    -32.015  -4144.020  0.00000  0.00000    0.020    7.047  185.843    2.789 3034.190
   *1      -1  -2212 antiproton              56  100001  -2212       1      49   4031.410    -31.772  -4004.000  0.00000  0.00000    0.020    7.537  185.085    7.699 3034.228*
   *2      -1  -2212 antiproton              86  100018  -2212  100004      49   3918.719     -7.979  -3004.020  0.00000  0.00000    0.021   11.878 -273.122  -52.042  752.359*
  *98      -1  -2212 antiproton              86  100018  -2212  100004      49   3076.778     -8.717   -827.236  0.00000  0.00000    0.021   31.717 -183.401   39.223   99.480*
    3      -1  -2212 antiproton              86  100018  -2212  100004      49    825.000     76.182    -53.133  0.00000  0.00000    0.021   70.502 -204.430  -35.372   45.030
    4      -1  -2212 antiproton              86  100018  -2212  100004      49     25.020    177.970     79.680  0.00000  0.00000    0.021   83.069 -204.908   51.335  -21.167

 *** Run,Event:   1000,465940    Rs:   11508 : bit:6: pbar in the end, p =    101.472 t=    178.772 *interaction in TS1 coll*
root [29] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   91       0  -2212 antiproton              56       1     -1      -1      49   3849.882   -125.485  -4144.290  0.00000  0.00000    0.020   11.554   49.412  -31.251  664.966
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3849.882   -125.485  -4144.290  0.00000  0.00000    0.020   11.554   49.412  -31.251  664.966
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3849.902   -125.497  -4144.020  0.00000  0.00000    0.020   11.556   48.762  -30.227  664.685
   *1      -1  -2212 antiproton              56  100001  -2212       1      49   3860.427   -130.855  -4004.000  0.00000  0.00000    0.020   12.365   50.875  -20.691  664.892*
   *2      -1  -2212 antiproton              86  100002  -2212  100001      49   3874.144   -101.116  -3004.020  0.00000  0.00000    0.022   20.601  -55.683    2.355  113.784*
   98      -1  -2212 antiproton              86  100002  -2212  100001      49   2971.769    -18.936   -932.245  0.00000  0.00000    0.022   85.985  -90.183  -49.353   74.055
    3      -1  -2212 antiproton              86  100002  -2212  100001      49    825.000    117.828     55.641  0.00000  0.00000    0.023  154.543 -110.043   62.083   -9.444
    4      -1  -2212 antiproton              86  100002  -2212  100001      49     25.020     30.288     20.659  0.00000  0.00000    0.023  177.201 -111.472   27.936   53.353

 *** Run,Event:   1000,251921    Rs:   12036 : bit:6: pbar in the end, p =     50.799 t=    296.359
root [31] m_spmc->fVDetBlock->Print()
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  *91       0  -2212 antiproton              56       1     -1      -1      49   3858.816    -49.536  -4144.290  0.00000  0.00000    0.021   58.345    8.794  -37.733  114.674* *121.0*
   91      -1  -2212 antiproton              56  100001  -2212       1      49   3858.816    -49.536  -4144.290  0.00000  0.00000    0.021   58.345    8.794  -37.733  114.674
   92      -1  -2212 antiproton              56  100001  -2212       1      49   3858.838    -49.622  -4144.020  0.00000  0.00000    0.020   58.353   10.203  -16.960   89.365
    1      -1  -2212 antiproton              56  100001  -2212       1      49   3884.687    -60.279  -4004.000  0.00000  0.00000    0.020   63.273   18.018    4.764   89.613
    2      -1  -2212 antiproton              56  100001  -2212       1      49   3891.465    -21.197  -3004.020  0.00000  0.00000    0.020   98.332  -13.138   14.134   89.473
   98      -1  -2212 antiproton              56  100001  -2212       1      49   3040.000     55.008   -864.014  0.00000  0.00000    0.021  180.588  -58.195   20.440   67.627
    3      -1  -2212 antiproton              56  100001  -2212       1      49    825.000    180.248    -12.766  0.00000  0.00000    0.021  265.716  -89.154   15.493  -13.764
    4      -1  -2212 antiproton              56  100001  -2212       1      49     25.020    188.588     -4.161  0.00000  0.00000    0.020  293.884  -89.339   14.935  -13.167

** <2019-10-07 Mon> catalog_stntuples check_grid_output copy_log_files  

  Stntuple/scripts/catalog_stntuples -b ts_warm_bore -d 711_2000_ts2_mubeam -D /mu2e/data/users/murat/datasets/ts_warm_bore/711_2000/ts2/mubeam_stn -p 711_2000_ts2_mubeam -n 10000000000
  dsid=711_2005 ; Stntuple/scripts/catalog_stntuples -b ts_warm_bore -d ${dsid}1_ts2_mubeam -D /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/ts2/mubeam_stn -p ${dsid}_ts2_mubeam -n 10000000000

  ts_warm_bore/scripts/check_grid_output ts_warm_bore 711_2000 pbar vd91_05 ts1_sim >| ts_warm_bore/catalogs/711_2000/ts1/ts_warm_bore.711_2001.pbar_vd91_05_ts1_sim.check_grid_output.log
  ts_warm_bore/scripts/check_grid_output ts_warm_bore 711_2001 pbar vd91_05 ts1_sim >| ts_warm_bore/catalogs/711_2001/ts1/ts_warm_bore.711_2001.pbar_vd91_05_ts1_sim.check_grid_output.log

  ts_warm_bore/scripts/copy_log_files ts_warm_bore 711_2000 pbar vd91_05 ts1_sim .
  ts_warm_bore/scripts/copy_log_files ts_warm_bore 711_2001 pbar vd91_05 ts1_sim .

  cat /mu2e/data/users/murat/datasets/ts_warm_bore/711_2000/ts1/log/log.murat.ts_warm_bore.ts_warm_bore_711_2000_pbar_vd91_05*.log  | \
  grep TrigReport | grep -i mubeam | awk -v s=mubeam '{n+=$5} END{printf "stream=%-10s nevents=%10i\n",s,n}'

  cat /mu2e/data/users/murat/datasets/ts_warm_bore/711_2001/ts1/log/log.murat.ts_warm_bore.ts_warm_bore_711_2001_pbar_vd91_05*.log  | \
  grep TrigReport | grep -i mubeam | awk -v s=mubeam '{n+=$5} END{printf "stream=%-10s nevents=%10i\n",s,n}'

  dsid=711_2002; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts2 mubeam ts3_sim >| ts_warm_bore/catalogs/$dsid/ts3/ts_warm_bore.$dsid.ts2_mubeam_ts3_sim.check_grid_output.log
  dsid=711_2003; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts2 mubeam ts3_sim >| ts_warm_bore/catalogs/$dsid/ts3/ts_warm_bore.$dsid.ts2_mubeam_ts3_sim.check_grid_output.log
  dsid=711_2005; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts2 mubeam ts3_sim >| ts_warm_bore/catalogs/$dsid/ts3/ts_warm_bore.$dsid.ts2_mubeam_ts3_sim.check_grid_output.log
  dsid=711_2007; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts2 mubeam ts3_sim >| ts_warm_bore/catalogs/$dsid/ts3/ts_warm_bore.$dsid.ts2_mubeam_ts3_sim.check_grid_output.log
  dsid=711_2010; ts_warm_bore/scripts/check_grid_output ts_warm_bore $dsid ts2 mubeam ts3_sim >| ts_warm_bore/catalogs/$dsid/ts3/ts_warm_bore.$dsid.ts2_mubeam_ts3_sim.check_grid_output.log

** <2019-10-05 Sat> *change gen_fcl call format*  gen_fcl  submit_grid_job copy_log_files 
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_2000 pbar:vd91:05 /grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art:1 ts1_sim .

  inputs=/grid/fermiapp/mu2e/users/murat/catalogs/antiprotons_cs1VD91.170829/sim.mu2e.antiprotons_cs1VD91.170829.art
  dsid=711_2000
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid pbar:vd91:01 $inputs:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid pbar:vd91:02 $inputs:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid pbar:vd91:03 $inputs:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid pbar:vd91:04 $inputs:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid pbar:vd91:05 $inputs:1 ts1_sim .
  dsid=711_2001
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid pbar:vd91:01 $inputs:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid pbar:vd91:02 $inputs:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid pbar:vd91:03 $inputs:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid pbar:vd91:04 $inputs:1 ts1_sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid pbar:vd91:05 $inputs:1 ts1_sim .

  ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_2000 pbar:vd91:02 ts1_sim 20h ifdh .
  ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_2001 pbar:vd91:02 ts1_sim 20h ifdh .

  for f in `ls ts_warm_bore/catalogs/711_1032/s1/*` ; do f1=`echo $f | sed 's/1032/1040/g'`; cp $f $f1 ; done
  for f in `ls ts_warm_bore/catalogs/711_1032/s1/*` ; do f1=`echo $f | sed 's/1032/1043/g'`; cp $f $f1 ; done
  for f in `ls ts_warm_bore/catalogs/711_1032/s1/*` ; do f1=`echo $f | sed 's/1032/1045/g'`; cp $f $f1 ; done
  for f in `ls ts_warm_bore/catalogs/711_1032/s1/*` ; do f1=`echo $f | sed 's/1032/1049/g'`; cp $f $f1 ; done

  dsid=711_2001; ts_warm_bore/scripts/copy_log_files ts_warm_bore $dsid ts2 mubeam ts3_sim .
  for f in `ls /mu2e/data/users/murat/datasets/ts_warm_bore/711_2001/ts3/log/*.log | grep ts3_sim` ; do cat $f | grep "GenEventCount total" ; done  | awk '{n=n+$3} END{print n}'

  dsid=711_2010; ts_warm_bore/scripts/list_pnfs_files ts_warm_bore $dsid ts2 mubeam ts3_sim mubeam .

  dsid=711_2001 ; 
  rm -rf /mu2e/app/users/murat/tsud_bore_prof/ts_warm_bore/tmp_fcl/$dsid.ts3_mubeam.s3_sim ; 
  rm -f /pnfs/mu2e/resilient/users/murat/ts_warm_bore.$dsid.ts3_mubeam.s3_sim.fcl.tbz ; 
  ts_warm_bore/scripts/gen_fcl ts_warm_bore $dsid ts3:mubeam .  s3_sim . ;

  ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_2000 ts3:mubeam s3_sim 10h ifdh .

** <2019-09-30 Mon> submit_mu2e_job ... debugging    

  murat/scripts/submit_mu2e_job -c ts_warm_bore/711_2001/TS_711_2001.fcl \
  -s /pnfs/mu2e/tape/phy-sim/sim/mu2e/antiprotons_cs1VD91/170829/art/5c/b6/sim.mu2e.antiprotons_cs1VD91.170829.001000_00000751.art \
  -o /mu2e/data/users/murat/datasets/ts_warm_bore/711_2001

  murat/scripts/submit_mu2e_job -c ts_warm_bore/711_2000/TS_711_2000.fcl \
  -s /pnfs/mu2e/tape/phy-sim/sim/mu2e/antiprotons_cs1VD91/170829/art/5c/b6/sim.mu2e.antiprotons_cs1VD91.170829.001000_00000751.art \
  -o /mu2e/data/users/murat/datasets/ts_warm_bore/711_2000

  *711_3001 with mubeamFilter::TS3CEnter*
root [5] m_spmc->fSimpBlock->Print(); m_spmc->fStepPointMCBlock->Print()
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   i name                   PDG     ID GenID  ParentID    p0x       p0y       p0z       p0       v0x        v0y      v0z         t0       p1x       p1y        p1z      p1       v1x        v1y       v1z        t1
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   0 proton                2212      1    16      -1 -2150.417     0.000 -8624.851  8888.889  3924.193    -0.037 -6087.086     0.000    -0.000    -0.000    -0.000     0.000  3923.140    -0.037 -6091.309     0.015
   1 pi0                    111      3    16       1 -1412.293     2.676 -1559.496  2103.950  3923.140    -0.037 -6091.309     0.015 -1412.293     2.676 -1559.496  2103.950  3923.140    -0.037 -6091.309     0.015
   2 gamma                   22   3485    -1       3 -1284.476    -4.706 -1469.661  1951.872  3923.140    -0.037 -6091.309     0.015    -0.000    -0.000    -0.000     0.000  3922.409    -0.040 -6092.146     0.018
   3 e+                     -11   6477    -1    3485 -1233.209    -3.901 -1412.416  1875.030  3922.409    -0.040 -6092.146     0.018     0.000    -0.000    -0.000     0.000  2551.250   886.042-16403.186    36.485
   4 gamma                   22   6488    -1    6477    -9.173     0.180   -10.411    13.876  3920.875    -0.072 -6093.868     0.026    -0.000    -0.000     0.000     0.000  3919.584    -0.875 -6095.099     0.035
   5 e-                      11   7546    -1    6488    -9.117     0.644   -10.479    13.905  3919.683    -0.049 -6095.221     0.032    -2.580     2.699     2.274     4.371   963.027     8.917     4.609    47.682
   6 e-                      11 100001    -1    7546    -2.791    -1.953    -2.740     4.371   975.000    15.582    -2.096    47.614    -2.870    -2.537    -1.973     4.309    -0.082    15.812    11.762    52.723
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    0      -1     11 e-                      56  100001     11    7546      49      0.083     15.965     11.862  0.06241  0.00000    0.247   52.723   -2.926   -2.447   -2.136


  *711_3001 used mubeamFilter:DSVacuum* : *no StepPointMC's in DSVacuum, electron tracing stops at X=0*
root [2] m_spmc->fSimpBlock->Print(); m_spmc->fStepPointMCBlock->Print()
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   i name                   PDG     ID GenID  ParentID    p0x       p0y       p0z       p0       v0x        v0y      v0z         t0       p1x       p1y        p1z      p1       v1x        v1y       v1z        t1
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   0 proton                2212      1    16      -1 -2150.417     0.000 -8624.851  8888.889  3924.193    -0.037 -6087.086     0.000    -0.000    -0.000    -0.000     0.000  3923.140    -0.037 -6091.309     0.015
   1 pi0                    111      3    16       1 -1412.293     2.676 -1559.496  2103.950  3923.140    -0.037 -6091.309     0.015 -1412.293     2.676 -1559.496  2103.950  3923.140    -0.037 -6091.309     0.015
   2 gamma                   22   3485    -1       3 -1284.476    -4.706 -1469.661  1951.872  3923.140    -0.037 -6091.309     0.015    -0.000    -0.000    -0.000     0.000  3922.409    -0.040 -6092.146     0.018
   3 e+                     -11   6477    -1    3485 -1233.209    -3.901 -1412.416  1875.030  3922.409    -0.040 -6092.146     0.018     0.000    -0.000    -0.000     0.000  2551.250   886.042-16403.186    36.485
   4 gamma                   22   6488    -1    6477    -9.173     0.180   -10.411    13.876  3920.875    -0.072 -6093.868     0.026    -0.000    -0.000     0.000     0.000  3919.584    -0.875 -6095.099     0.035
   5 e-                      11   7546    -1    6488    -9.117     0.644   -10.479    13.905  3919.683    -0.049 -6095.221     0.032    -2.580     2.699     2.274     4.371   963.027     8.917     4.609    47.682
   6 e-                      11 100001    -1    7546    -2.791    -1.953    -2.740     4.371   975.000    15.582    -2.096    47.614    -2.870    -2.537    -1.973     4.309    -0.082    15.812    11.762    52.723


  *711_3000 default tracing* 
root [5] g.x->ProcessEntry(0)
root [6] m_spmc->fSimpBlock->Print(); m_spmc->fStepPointMCBlock->Print()
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   i name                   PDG     ID GenID  ParentID    p0x       p0y       p0z       p0       v0x        v0y      v0z         t0       p1x       p1y        p1z      p1       v1x        v1y       v1z        t1
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   0 proton                2212      1    16      -1 -2150.417     0.000 -8624.851  8888.889  3924.193    -0.037 -6087.086     0.000    -0.000    -0.000    -0.000     0.000  3923.140    -0.037 -6091.309     0.015
   1 pi0                    111      3    16       1 -1412.293     2.676 -1559.496  2103.950  3923.140    -0.037 -6091.309     0.015 -1412.293     2.676 -1559.496  2103.950  3923.140    -0.037 -6091.309     0.015
   2 gamma                   22   3485    -1       3 -1284.476    -4.706 -1469.661  1951.872  3923.140    -0.037 -6091.309     0.015    -0.000    -0.000    -0.000     0.000  3922.409    -0.040 -6092.146     0.018
   3 e+                     -11   6477    -1    3485 -1233.209    -3.901 -1412.416  1875.030  3922.409    -0.040 -6092.146     0.018     0.000    -0.000    -0.000     0.000  2551.250   886.042-16403.186    36.485
   4 gamma                   22   6488    -1    6477    -9.173     0.180   -10.411    13.876  3920.875    -0.072 -6093.868     0.026    -0.000    -0.000     0.000     0.000  3919.584    -0.875 -6095.099     0.035
   5 e-                      11   7546    -1    6488    -9.117     0.644   -10.479    13.905  3919.683    -0.049 -6095.221     0.032    -2.580     2.699     2.274     4.371   963.027     8.917     4.609    47.682
   6 e-                      11 100001    -1    7546    -2.791    -1.953    -2.740     4.371   975.000    15.582    -2.096    47.614    -2.686     1.912     2.773     4.309 -3878.221     5.950  2930.000    80.132
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
   Vol   Gen     PDG Particle          Creation   SimID   PPdg  PSimID  StopProc     X          Y          Z     Edep(Tot) Edep(NIO)  Step    Time      Px        Py        Pz
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
    0      -1     11 e-                      56  100001     11    7546      49  -3877.327      5.180   2929.000  0.00000  0.00000    1.550   80.127   -2.162    2.469    2.792

** <2019-09-28 Sat> ntupling - use the final output directory:     

  murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/711_1030.s2_mubeam.s3_stn/cnf.murat.ts_warm_bore.711_1030_s2_mubeam_s3_stn.000001_00000000.fcl \
                                -o /mu2e/data/users/murat/datasets/ts_warm_bore/711_1030/s2/mubeam_stn

** <2019-09-24 Tue> gridexport gen_fcl submit_grid_job
  
  gridexport -E $PWD/grid_export -A ts_warm_bore/AAA_GRIDEXPORT_EXCLUDE.txt
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1010 gen 250_20000 s1 sim .
  ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_1010 gen 250_20000 s1 sim .

** <2019-09-22 Sun> list_pnfs_files

  ts_warm_bore/scripts/list_pnfs_files 711_1009 s2 mubeam s3 sim tgtstop 23548622 .
  ts_warm_bore/scripts/list_pnfs_files 711_1009 s2 mubeam s3 sim ootstop 23548622 .
  ts_warm_bore/scripts/list_pnfs_files 711_1009 s2 mubeam s3 sim crv 23548622 .
  ts_warm_bore/scripts/list_pnfs_files 711_1009 s2 mubeam s3 sim truncated 23548622 .
  ts_warm_bore/scripts/list_pnfs_files 711_1009 s2 mubeam s3 sim mothers 23548622 .
  ts_warm_bore/scripts/list_pnfs_files 711_1009 s2 mubeam s3 sim beam 23548622 .

** <2019-09-17 Tue>  gen_fcl submit_grid_job 

  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1009 s1 mubeam s2 sim .
  ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_1009 s1 mubeam s2 sim .
  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1009 s1 mubeam s2 stn .
  
** <2019-09-15 Sun> gridexport gen_fcl submit_grid_job               

  setup gridexport
  gridexport -E $PWD/grid_export -A ts_warm_bore/AAA_GRIDEXPORT_EXCLUDE.txt

  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1009 gen 2_200 s1 sim .
  ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_1009 gen 250_20000 s1 sim .

** <2019-09-14 Sat> gen_fcl submit_mu2e_job                          

  ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1009 gen 250_20000 s1 sim .
  murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/711_1009.gen_250_20000.s1_sim/cnf.murat.ts_warm_bore.711_1009_gen_250_20000_s1_sim.000001_00000000.fcl -n 1000 &

** <2019-08-24 Sat> generate_fcl                                     

generate_fcl --description=s1 --dsconf=711_1008 --events=20000 --njobs=250 --embed ts_warm_bore/711_1008/PS_711_1008.fcl --run=1

** <2019-03-16 Sat> gen_fcl submit_mu2e_job                          

 pnfs_scratch=/pnfs/mu2e/scratch/users/murat/workflow;
 od=/grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore

 ls $pnfs_scratch/ts_warm_bore.711_1021.s2_mubeam.s3/outstage/17198986/00/*/*.art | grep DS-TGTstops >| $od/711_1021/s3/ts_warm_bore.711_1021_s3.tgtstops.art
 ls $pnfs_scratch/ts_warm_bore.711_1011.s2_mubeam.s3/outstage/17040813/00/*/*.art | grep DS-TGTstops >| $od/711_1011/s3/ts_warm_bore.711_1011_s3.tgtstops.art
 ts_warm_bore/scripts/copy_log_files 711_1011 s2 mubeam s3 sim 17040813  
 ls $pnfs_scratch/ts_warm_bore.711_1012.s2_mubeam.s3/outstage/17039568/00/*/*.art | grep DS-TGTstops >| $od/711_1012/s3/ts_warm_bore.711_1012_s3.tgtstops.art
 ls $pnfs_scratch/ts_warm_bore.711_1013.s2_mubeam.s3/outstage/17039568/00/*/*.art | grep DS-TGTstops >| $od/711_1013/s3/ts_warm_bore.711_1013_s3.tgtstops.art
 ls $pnfs_scratch/ts_warm_bore.711_1013.s2_mubeam.s3/outstage/17039491/00/*/*.art | grep DS-TGTstops >| $od/711_1013/s3/ts_warm_bore.711_1013_s3.tgtstops.art
 ls $pnfs_scratch/ts_warm_bore.711_1014.s2_mubeam.s3/outstage/17040933/00/*/*.art | grep DS-TGTstops >| $od/711_1014/s3/ts_warm_bore.711_1014_s3.tgtstops.art
 ls $pnfs_scratch/ts_warm_bore.711_1015.s2_mubeam.s3/outstage/17056270/00/*/*.art | grep DS-TGTstops >| $od/711_1015/s3/ts_warm_bore.711_1015_s3.tgtstops.art
 ls $pnfs_scratch/ts_warm_bore.711_1021.s2_mubeam.s3/outstage/17198986/00/*/*.art | grep DS-TGTstops >| $od/711_1021/s3/ts_warm_bore.711_1021_s3.tgtstops.art
 ls $pnfs_scratch/ts_warm_bore.711_1022.s2_mubeam.s3/outstage/17039439/00/*/*.art | grep DS-TGTstops >| $od/711_1022/s3/ts_warm_bore.711_1022_s3.tgtstops.art
 ls $pnfs_scratch/ts_warm_bore.711_1023.s2_mubeam.s3/outstage/17085512/00/*/*.art | grep DS-TGTstops >| $od/711_1023/s3/ts_warm_bore.711_1023_s3.tgtstops.art
 ls $pnfs_scratch/ts_warm_bore.711_1024.s2_mubeam.s3/outstage/17056405/00/*/*.art | grep DS-TGTstops >| $od/711_1024/s3/ts_warm_bore.711_1024_s3.tgtstops.art
 ls $pnfs_scratch/ts_warm_bore.711_1025.s2_mubeam.s3/outstage/17056321/00/*/*.art | grep DS-TGTstops >| $od/711_1025/s3/ts_warm_bore.711_1025_s3.tgtstops.art

 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1011 s3 tgtstops s3 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1012 s3 tgtstops s3 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1013 s3 tgtstops s3 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1014 s3 tgtstops s3 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1015 s3 tgtstops s3 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1021 s3 tgtstops s3 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1022 s3 tgtstops s3 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1023 s3 tgtstops s3 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1024 s3 tgtstops s3 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1025 s3 tgtstops s3 stn .

 dsid=711_1011; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s3_tgtstops.stn/cnf.murat.ts_warm_bore.${dsid}_s3_tgtstops_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s3/tgtstops_stn &
 dsid=711_1012; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s3_tgtstops.stn/cnf.murat.ts_warm_bore.${dsid}_s3_tgtstops_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s3/tgtstops_stn &
 dsid=711_1013; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s3_tgtstops.stn/cnf.murat.ts_warm_bore.${dsid}_s3_tgtstops_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s3/tgtstops_stn &
 dsid=711_1014; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s3_tgtstops.stn/cnf.murat.ts_warm_bore.${dsid}_s3_tgtstops_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s3/tgtstops_stn &
 dsid=711_1015; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s3_tgtstops.stn/cnf.murat.ts_warm_bore.${dsid}_s3_tgtstops_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s3/tgtstops_stn &
 dsid=711_1021; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s3_tgtstops.stn/cnf.murat.ts_warm_bore.${dsid}_s3_tgtstops_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s3/tgtstops_stn &
 dsid=711_1022; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s3_tgtstops.stn/cnf.murat.ts_warm_bore.${dsid}_s3_tgtstops_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s3/tgtstops_stn &
 dsid=711_1023; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s3_tgtstops.stn/cnf.murat.ts_warm_bore.${dsid}_s3_tgtstops_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s3/tgtstops_stn &
 dsid=711_1024; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s3_tgtstops.stn/cnf.murat.ts_warm_bore.${dsid}_s3_tgtstops_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s3/tgtstops_stn &
 dsid=711_1025; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s3_tgtstops.stn/cnf.murat.ts_warm_bore.${dsid}_s3_tgtstops_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s3/tgtstops_stn &

 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1011 s1 mubeam s1 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1012 s1 mubeam s1 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1013 s1 mubeam s1 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1014 s1 mubeam s1 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1015 s1 mubeam s1 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1021 s1 mubeam s1 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1022 s1 mubeam s1 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1023 s1 mubeam s1 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1024 s1 mubeam s1 stn .
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1025 s1 mubeam s1 stn .

 dsid=711_1011; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s1_mubeam.stn/cnf.murat.ts_warm_bore.${dsid}_s1_mubeam_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s1/mubeam_stn &
 dsid=711_1012; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s1_mubeam.stn/cnf.murat.ts_warm_bore.${dsid}_s1_mubeam_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s1/mubeam_stn &
 dsid=711_1013; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s1_mubeam.stn/cnf.murat.ts_warm_bore.${dsid}_s1_mubeam_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s1/mubeam_stn &
 dsid=711_1014; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s1_mubeam.stn/cnf.murat.ts_warm_bore.${dsid}_s1_mubeam_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s1/mubeam_stn &
 dsid=711_1015; murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/$dsid.s1_mubeam.stn/cnf.murat.ts_warm_bore.${dsid}_s1_mubeam_stn.000001_00000000.fcl -o /mu2e/data/users/murat/datasets/ts_warm_bore/$dsid/s1/mubeam_stn &

 stnana("file","/mu2e/data/users/murat/datasets/ts_warm_bore/711_1014/s2/mubeam_stn/nts.USER.PROJECT.g4s2_mubeam.000001.stn","","",
 "spmc_ana(2)/save=ts_warm_bore.711_1014_s2_mubeam_stn.spmc_ana.hist")

** <2019-03-14 Thu>                                                  

 1. *17039491 : rerunning locally section 0*: ts_warm_bore.711_1013.s2_mubeam.s3/outstage/17039491/00/00000 

** <2019-03-13 Wed> check_output copy_log_files                      

 *DSID=1012*

 ts_warm_bore/scripts/check_output ts_warm_bore.711_1012.gen_250_20000.s1 17161220
 ls /pnfs/mu2e/scratch/users/murat/workflow/ts_warm_bore.711_1012.gen_250_20000.s1/outstage/17161220/00/*/*.art | grep mubeam | grep -v json
 ts_warm_bore/scripts/copy_log_files 711_1012 gen 250_20000 s1 sim 17161220 .

 *after that, go to  file:/grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore/ and do what's needed* 

 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1012 s1 mubeam  s2 sim .

 *validation* 
 murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/711_1012.s1_mubeam.sim/cnf.murat.ts_warm_bore.711_1012_s1_mubeam_sim.000001_00000000.fcl -n 500 &

 *submit* 

 *DSID=1011: handle output of stage 1 and submit stage 2 simulation*

 murat/scripts/check_grid_output ts_warm_bore.711_1011.gen_250_20000.s1 17161389
 ts_warm_bore/scripts/copy_log_files 711_1011 gen 250_20000 s1 sim      17161389 .
 ls /pnfs/mu2e/scratch/users/murat/workflow/ts_warm_bore.711_1011.gen_250_20000.s1/outstage/17161389/00/*/*.art | grep mubeam | grep -v json  \
 >| /grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore/711_1011/s1/ts_warm_bore.711_1011_s1.mubeam.art
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1011 s1 mubeam  s2 sim .
 ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_1011 s1 mubeam s2 sim .

 *DSID=1021: handle output of stage 1 and submit stage 2 simulation*
 murat/scripts/check_grid_output     ts_warm_bore.711_1021.gen_250_20000.s1 17162101
 ts_warm_bore/scripts/copy_log_files              711_1021 gen 250_20000 s1 sim      17162101 .
 ls /pnfs/mu2e/scratch/users/murat/workflow/ts_warm_bore.711_1021.gen_250_20000.s1/outstage/17162101/00/*/*.art | grep mubeam | grep -v json \
 >|  /grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore/711_1021/s1/ts_warm_bore.711_1021_s1.mubeam.art
 ts_warm_bore/scripts/gen_fcl ts_warm_bore 711_1021 s1 mubeam  s2 sim .
 ts_warm_bore/scripts/submit_grid_job ts_warm_bore 711_1021 s1 mubeam s2 sim .

 *DSID=1022: handle output of stage 1 and submit stage 2 simulation*
 dsid=711_1022
 jobid=17162102
 murat/scripts/check_grid_output     ts_warm_bore.$dsid.gen_250_20000.s1 $jobid >| \
 /grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore/$dsid/s1/ts_warm_bore.711_${dsid}_s1.check_grid_output.log
 ts_warm_bore/scripts/copy_log_files              $dsid gen 250_20000 s1 sim      $jobid  .
 ls /pnfs/mu2e/scratch/users/murat/workflow/ts_warm_bore.$dsid.gen_250_20000.s1/outstage/$jobid/00/*/*.art | grep mubeam | grep -v json \
 >| /grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore/$dsid/s1/ts_warm_bore.${dsid}_s1.mubeam.art
 ts_warm_bore/scripts/gen_fcl         ts_warm_bore $dsid s1 mubeam s2 sim .
 ts_warm_bore/scripts/submit_grid_job ts_warm_bore $dsid s1 mubeam s2 sim .

 
 *DSID=1024* source ts_warm_bore/scripts/from_s1_to_s2 ts_warm_bore 711_1024 17162107
 *DSID=1025* source ts_warm_bore/scripts/from_s1_to_s2 ts_warm_bore 711_1025 17162108
 
** <2019-03-12 Tue> gridexport generate_fcl mu2eprodsys gen_fcl      
 setup gridexport
 gridexport -E $PWD/grid_export -A ts_warm_bore/AAA_GRIDEXPORT_EXCLUDE.txt
 

#--------------------------------------------------------------------------------------------
olddir=$PWD

generate_fcl --description=s1 --dsconf=711_0000 --events=20000 --njobs=250 --embed ts_warm_bore/711_0000/PS_711_0000.fcl --run=1
mv seeds.murat.s1.711_0000.*.txt 000/.
mv 000 /mu2e/app/users/murat/fcl/ts_warm_bore_711_0000.s1.250_20000

cd /mu2e/app/users/murat/fcl/ts_warm_bore_711_0000.s1.250_20000
tar -cjf ../ts_warm_bore_711_0000.s1.250_20000.tbz *.fcl
cd $olddir

generate_fcl --description=s1 --dsconf=711_0001 --events=20000 --njobs=250 --embed ts_warm_bore/711_0001/PS_711_0001.fcl --run=1
mv seeds.murat.s1.711_0001.*.txt 000/.
mv 000 /mu2e/app/users/murat/fcl/ts_warm_bore_711_0001.s1.250_20000

cd /mu2e/app/users/murat/fcl/ts_warm_bore_711_0001.s1.250_20000
tar -cjf ../ts_warm_bore_711_0001.s1.250_20000.tbz *.fcl
cd $olddir

generate_fcl --description=s2 --dsconf=711_1000 --merge=10 --embed ts_warm_bore/711_0000/TS_711_0000.fcl --inputs=catalogs/ts_warm_bore/711_1000/s1/ts_warm_bore.711_1000_s1.mubeam.art
mv seeds.murat.s2.711_1000.*.txt 000/.
mv 000 /mu2e/app/users/murat/fcl/ts_warm_bore_711_1000.s2
cd /mu2e/app/users/murat/fcl/ts_warm_bore_711_1000.s2
tar -cjf ../ts_warm_bore_711_1000.s2.tbz *.fcl

generate_fcl --description=s2 --dsconf=711_1001 --merge=10 --embed ts_warm_bore/711_0000/TS_711_0000.fcl --inputs=/grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore/711_1001/s1/ts_warm_bore.711_1001_s1.mubeam.art
mv seeds.murat.s2.711_1001.*.txt 000/.
mv 000 /mu2e/app/users/murat/fcl/ts_warm_bore_711_1001.s2
cd /mu2e/app/users/murat/fcl/ts_warm_bore_711_1001.s2
tar -cjf ../ts_warm_bore_711_1001.s2.tbz *.fcl


project=ts_warm_bore
dsid=711_1000
stage=s2
mu2eprodsys --code=/pnfs/mu2e/resilient/users/murat/$project.code.tbz --fcllist=/pnfs/mu2e/resilient/users/murat/${project}_$dsid.$stage.tbz --dsconf=$project --wfproject=${project}_${dsid}_${stage} --expected-lifetime=3h


generate_fcl --description=ts_warm_bore --dsconf=711_1000_s1_mubeam --merge=1000 --embed Stntuple/test/g4s1_mubeam_stn.fcl \
             --inputs=catalogs/ts_warm_bore/711_1000/s1/ts_warm_bore.711_1000_s1.mubeam.art

generate_fcl --description=ts_warm_bore --dsconf=711_1001_s1_mubeam --merge=1000 --embed Stntuple/test/g4s1_mubeam_stn.fcl \
             --inputs=catalogs/ts_warm_bore/711_1001/s1/ts_warm_bore.711_1001_s1.mubeam.art


generate_fcl --description=s3 --dsconf=711_0001 --merge=10 --embed ts_warm_bore/711_0001/DS_711_0001.fcl --inputs=/grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore/711_0001/s2/ts_warm_bore.711_0001_s2.mubeam
generate_fcl --description=s3 --dsconf=711_0000 --merge=10 --embed ts_warm_bore/711_0000/DS_711_0000.fcl --inputs=/grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore/711_0000/s2/ts_warm_bore.711_0000_s2.mubeam

generate_fcl --description=s3 --dsconf=711_1000 --merge=5 --embed ts_warm_bore/711_0000/DS_711_0000.fcl --inputs=/grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore/711_1000/s2/ts_warm_bore.711_1000_s2.mubeam.art
generate_fcl --description=s3 --dsconf=711_1001 --merge=5 --embed ts_warm_bore/711_0001/DS_711_0001.fcl --inputs=/grid/fermiapp/mu2e/users/murat/catalogs/ts_warm_bore/711_1001/s2/ts_warm_bore.711_1001_s2.mubeam.art

generate_fcl --description=ts_warm_bore --dsconf=711_1000_s3_tgtstops --merge=1000 --embed Stntuple/test/g4s3_tgtstops_stn.fcl  --inputs=catalogs/ts_warm_bore/711_1000/s3/ts_warm_bore.711_1000_s3.tgtstops.art

ts_warm_bore/scripts/gen_fcl 711_1000 s3 ootstops stn .
ts_warm_bore/scripts/gen_fcl 711_1001 s3 ootstops stn .


gridexport -E $PWD/grid_export -A ts_warm_bore/AAA_GRIDEXPORT_EXCLUDE.txt ; 
# then rename the tarball to ts_warm_bore.code_7002.tbz

ts_warm_bore/scripts/gen_fcl 711_1003 gen all s1 .
cd ts_warm_bore/tmp_fcl/711_1003.gen_all.s1/
tar -cjf ../ts_warm_bore_711_1003.s1.tbz *.fcl
cp ../ts_warm_bore_711_1003.s1.tbz /pnfs/mu2e/resilient/users/murat/.

gridexport -E $PWD/grid_export -A ts_warm_bore/AAA_GRIDEXPORT_EXCLUDE.txt
# then rename the tarball to ts_warm_bore.code_1003.tbz and copy it to /pnfs/mu2e/resilient/users/murat

mu2eprodsys --code=/pnfs/mu2e/resilient/users/murat/ts_warm_bore.code.711_1004.tbz --fcllist=/pnfs/mu2e/resilient/users/murat/ts_warm_bore.711_1004.gen_250_20000.s1.tbz --dsconf=ts_warm_bore_711_1004_gen_250_20000_s1 --wfproject=ts_warm_bore.711_1004.gen_250_20000.s1 --expected-lifetime=8h

ts_warm_bore/scripts/list_pnfs_files 711_1004 gen 250_20000 s1 mubeam 12027845 .
ts_warm_bore/scripts/copy_log_files 711_1004 gen 250_20000 s1 s1 12027845 .

cd ts_warm_bore/tmp_fcl/711_1004.s1_mubeam.s2/

tar -cjf ../ts_warm_bore.711_1004.s1_mubeam.s2.tbz *.fcl

ts_warm_bore/scripts/copy_log_files 711_1004 s1 mubeam s2 sim 12036583 .

ts_warm_bore/scripts/list_pnfs_files 711_1004 s1 mubeam s2 mubeam    12036583
ts_warm_bore/scripts/list_pnfs_files 711_1004 s1 mubeam s2 crv       12036583
ts_warm_bore/scripts/list_pnfs_files 711_1004 s1 mubeam s2 truncated 12036583

ts_warm_bore/scripts/gen_fcl 711_1004 s2 mubeam s3 s3
cp ts_warm_bore/tmp_fcl/ts_warm_bore.711_1004.s2_mubeam.s3.tbz /pnfs/mu2e/resilient/users/murat
mu2eprodsys --code=/pnfs/mu2e/resilient/users/murat/ts_warm_bore.code.711_1004.tbz --fcllist=/pnfs/mu2e/resilient/users/murat/ts_warm_bore.711_1004.s2_mubeam.s3.tbz --dsconf=ts_warm_bore_711_1004_s2_mubeam_s3 --wfproject=ts_warm_bore.711_1004.s2_mubeam.s3 --expected-lifetime=8h

ts_warm_bore/scripts/gen_fcl 711_1004 s1 mubeam s1 stn
murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/711_1004.s1_mubeam.stn/cnf.murat.ts_warm_bore.711_1004_s1_mubeam.000001_00000000.fcl

ts_warm_bore/scripts/copy_log_files 711_1004 s2 mubeam s3 sim 12042538 .

ts_warm_bore/scripts/gen_fcl 711_1004 s3 ootstops s3 stn .
ts_warm_bore/scripts/gen_fcl 711_1004 s3 tgtstops s3 stn .
ts_warm_bore/scripts/gen_fcl 711_1004 s3 crv s3 stn .
ts_warm_bore/scripts/gen_fcl 711_1004 s3 beam s3 stn .
ts_warm_bore/scripts/gen_fcl 711_1004 s3 truncated s3 stn .

for stream in beam crv ootstops tgtstops truncated ; do 
  murat/scripts/submit_mu2e_job -c ts_warm_bore/tmp_fcl/711_1004.s3_$stream.stn/cnf.murat.ts_warm_bore.711_1004_s3_$stream.000001_00000000.fcl
done

** <2018-10-12 Fri> gen_fcl                                          

ts_warm_bore/scripts/gen_fcl 711_1005 gen 250_20000 s1 sim .
ts_warm_bore/scripts/gen_fcl 711_1006 gen 250_20000 s1 sim .
cp ts_warm_bore/tmp_code/ts_warm_bore.code.711_1006.tbz /pnfs/mu2e/resilient/users/murat/.

** <2018-10-13 Sat> mu2eprodsys copy_log_files                       

mu2eprodsys --code=/pnfs/mu2e/resilient/users/murat/ts_warm_bore.code.711_1006.tbz --fcllist=/pnfs/mu2e/resilient/users/murat/ts_warm_bore.711_1005.gen_250_20000.s1.tbz --dsconf=ts_warm_bore_711_1005_gen_250_20000_s1 --wfproject=ts_warm_bore.711_1005.gen_250_20000.s1 --expected-lifetime=8h

mu2eprodsys --code=/pnfs/mu2e/resilient/users/murat/ts_warm_bore.code.711_1006.tbz --fcllist=/pnfs/mu2e/resilient/users/murat/ts_warm_bore.711_1006.gen_250_20000.s1.tbz --dsconf=ts_warm_bore_711_1006_gen_250_20000_s1 --wfproject=ts_warm_bore.711_1006.gen_250_20000.s1 --expected-lifetime=8h 

ts_warm_bore/scripts/copy_log_files 711_1005 gen 250_20000 s1 sim 12244282 .
ts_warm_bore/scripts/copy_log_files 711_1006 gen 250_20000 s1 sim 12244287 .

ts_warm_bore/scripts/gen_fcl 711_1005 s1 mubeam s2 sim .

** <2018-10-14 Sun> copy_log_files list_pnfs_files                   

ts_warm_bore/scripts/copy_log_files  711_1006 gen 250_20000 s1 sim    12269299 .
ts_warm_bore/scripts/list_pnfs_files 711_1006 gen 250_20000 s1 mubeam 12269299 .

ts_warm_bore/scripts/copy_log_files 711_1005 s1 mubeam s2 sim 12309121 .
ts_warm_bore/scripts/copy_log_files 711_1006 s1 mubeam s2 sim 12309083 .

ts_warm_bore/scripts/list_pnfs_files 711_1006 s1 mubeam s2 mubeam    12309083 .
ts_warm_bore/scripts/list_pnfs_files 711_1006 s1 mubeam s2 crv       12309083 .
ts_warm_bore/scripts/list_pnfs_files 711_1006 s1 mubeam s2 truncated 12309083 .

